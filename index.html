<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ุญุงูุฉ ุงูุทูุณ</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
</head>
<body>
  <main class="container">
    <h2>๐ค๏ธ ุญุงูุฉ ุงูุทูุณ ุงูุขู ุนูุฏ ูููุนู</h2>
    <p id="result">โณ ุฌุงุฑู ุชุญุฏูุฏ ูููุนู...</p>
  </main>

  <script>
    // โ๏ธ ุถุน ููุชุงุญ OpenWeatherMap ููุง ุจูู ุนูุงูุชู ุงูุชูุตูุต
    const apiKey = "d6755749bd44c8d99494a6fb8bcd52ee";

    function showWeather(lat, lon) {
      const url = https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&lang=ar&units=metric;

      fetch(url)
        .then(res => res.json())
        .then(data => {
          if (data.weather) {
            const condition = data.weather[0].main.toLowerCase();
            let status = "";

            if (condition.includes("clear")) status = "โ๏ธ ูุดูุณ";
            else if (condition.includes("cloud")) status = "โ๏ธ ุบุงุฆู";
            else if (condition.includes("rain")) status = "๐ง๏ธ ููุทุฑ";
            else if (condition.includes("snow")) status = "โ๏ธ ูุซูุฌ";
            else status = "๐ ุฌูุฏ";

            document.getElementById("result").innerText =
              ุงูุทูุณ ูู ${data.name}: ${status}, ุงูุญุฑุงุฑุฉ ${data.main.temp}ยฐC;
          } else {
            document.getElementById("result").innerText = "โ๏ธ ูู ุฃุณุชุทุน ุฌูุจ ุงูุทูุณ ููููุนู";
          }
        })
        .catch(err => {
          document.getElementById("result").innerText = "๐จ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุงุชุตุงู ุจุงูุฎุฏูุฉ";
        });
    }

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        position => {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;
          showWeather(lat, lon);
        },
        error => {
          document.getElementById("result").innerText = "โ๏ธ ูู ุฃุณุชุทุน ุชุญุฏูุฏ ูููุนู";
        }
      );
    } else {
      document.getElementById("result").innerText = "๐ซ ุงููุชุตูุญ ูุง ูุฏุนู ุชุญุฏูุฏ ุงููููุน";
    }
  </script>
</body>
</html>
